// ignore_for_file: constant_identifier_names

import 'package:celest_cli/init/project_item.dart';
import 'package:celest_cli/src/context.dart';

final class GeneratedFolder extends ProjectItem {
  @override
  Future<void> create(String projectRoot) async {
    final generatedDir =
        fileSystem.directory(projectRoot).childDirectory('generated');
    if (generatedDir.existsSync()) {
      return;
    }
    await generatedDir.create(recursive: true);
    await generatedDir.childFile('README.md').writeAsString(generated_README);
  }
}

const generated_README = '''
# Generated Celest code

This directory contains code generated by the Celest CLI to assist in building
your backend.

This code can be safely checked into version control, but it should not be
modified directly.

It is planned to replace this directory with macros when they become stable.
''';
